# EventMamba-FX Two-Step Event Generator Memory

## ğŸ¯ é¡¹ç›®æ ¸å¿ƒå®šä½
EventMamba-FX Two-Step Event Generatoræ˜¯ä¸€ä¸ª**è§£è€¦çš„äº‹ä»¶æ•°æ®ç”Ÿæˆç³»ç»Ÿ**ï¼Œé‡‡ç”¨ä¸¤æ­¥ç‹¬ç«‹æµç¨‹ç”Ÿæˆç‚«å…‰äº‹ä»¶å’Œåˆæˆäº‹ä»¶æ•°æ®ã€‚

**ğŸš€ é‡è¦ï¼šè¿™æ˜¯å…¨æ–°çš„two-stepæ¶æ„ï¼Œå®Œå…¨è§£è€¦ç‚«å…‰ç”Ÿæˆå’Œäº‹ä»¶åˆæˆï¼Œè¾“å‡ºæ ‡å‡†DVSæ ¼å¼H5æ–‡ä»¶ï¼Œç§»é™¤äº†æ‰€æœ‰ç‰¹å¾æå–å’Œæ ‡ç­¾ç”Ÿæˆã€‚**

## Environment Setup ğŸ”§ CRITICAL
- **MUST USE**: `source /home/lanpoknlanpokn/miniconda3/bin/activate event_flare`
- ç¯å¢ƒåŒ…å«å¿…éœ€ä¾èµ–ï¼šPyTorch, NumPy, H5py, OpenCV, YAML, tqdmç­‰
- Python 3.10.18ï¼Œæ— éœ€GPUï¼ˆæ•°æ®ç”Ÿæˆä¸ºCPUå¯†é›†å‹ï¼‰

## ğŸš€ ç³»ç»ŸçŠ¶æ€ï¼šä¸¤æ­¥è§£è€¦æ¶æ„ (2025-08-20 é‡æ„å®Œæˆ)

### âœ… æ–°æ¶æ„æ ¸å¿ƒç‰¹æ€§
- **Step 1**: ç‹¬ç«‹ç‚«å…‰äº‹ä»¶ç”Ÿæˆå™¨ â†’ `output/data/flare_events/*.h5`
- **Step 2**: äº‹ä»¶åˆæˆå™¨ â†’ `output/data/bg_events/*.h5` + `output/data/merge_events/*.h5`
- **æ ‡å‡†DVSæ ¼å¼**: `/events/t, /events/x, /events/y, /events/p`
- **æ— ç‰¹å¾æå–**: è¾“å‡ºåŸå§‹äº‹ä»¶æ•°æ®ï¼Œæ— ä»»ä½•åå¤„ç†
- **æ— æ ‡ç­¾ç”Ÿæˆ**: ç§»é™¤å¤æ‚çš„é€äº‹ä»¶æ ‡ç­¾ï¼Œä¸“æ³¨çº¯äº‹ä»¶æ•°æ®
- **å®Œå…¨è§£è€¦**: ä¸¤æ­¥å¯ç‹¬ç«‹è¿è¡Œï¼Œä¾¿äºè°ƒè¯•å’Œä¿®æ”¹

### ğŸ“Š æ–°è¾“å‡ºæ ¼å¼ (æ ‡å‡†DVS H5æ ¼å¼)
```bash
# Step 1 è¾“å‡ºï¼šçº¯ç‚«å…‰äº‹ä»¶
output/data/flare_events/flare_sequence_xxx.h5
â”œâ”€â”€ /events/t  [N] int64    # æ—¶é—´æˆ³ (å¾®ç§’)
â”œâ”€â”€ /events/x  [N] uint16   # Xåæ ‡
â”œâ”€â”€ /events/y  [N] uint16   # Yåæ ‡  
â””â”€â”€ /events/p  [N] int8     # ææ€§ (1/-1)

# Step 2 è¾“å‡ºï¼šèƒŒæ™¯äº‹ä»¶ + åˆå¹¶äº‹ä»¶
output/data/bg_events/composed_sequence_xxx_bg.h5      # èƒŒæ™¯äº‹ä»¶
output/data/merge_events/composed_sequence_xxx_merge.h5  # åˆå¹¶äº‹ä»¶
# åŒæ ·çš„ /events/* æ ¼å¼
```

### ğŸ® æ–°ä½¿ç”¨æ–¹å¼
```bash
# å®Œæ•´æµç¨‹
python main.py --debug

# åˆ†æ­¥æ‰§è¡Œ  
python main.py --step 1 --debug  # åªç”Ÿæˆç‚«å…‰äº‹ä»¶
python main.py --step 2 --debug  # åªåˆæˆäº‹ä»¶ (éœ€è¦Step1å…ˆå®Œæˆ)

# æµ‹è¯•ç³»ç»Ÿ
python test_new_system.py
```

## ğŸ—ï¸ æ–°æ¶æ„ç»„ä»¶

### ä¸»è¦æ–‡ä»¶ç»“æ„
```
EventMamba-FX-Two-Step-Generator/
â”œâ”€â”€ main.py                          # ä¸¤æ­¥æµç¨‹ä¸»å…¥å£ ğŸ†•
â”œâ”€â”€ test_new_system.py               # ç³»ç»Ÿæµ‹è¯•è„šæœ¬ ğŸ†•
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ config.yaml                  # ä¸¤æ­¥æ¨¡å¼é…ç½® ğŸ”„
â”œâ”€â”€ src/                             # æ ¸å¿ƒç»„ä»¶
â”‚   â”œâ”€â”€ flare_event_generator.py     # Step1: ç‹¬ç«‹ç‚«å…‰ç”Ÿæˆå™¨ ğŸ†•
â”‚   â”œâ”€â”€ event_composer.py            # Step2: äº‹ä»¶åˆæˆå™¨ ğŸ†•
â”‚   â”œâ”€â”€ flare_synthesis.py           # ç‚«å…‰å›¾åƒåˆæˆ âœ…
â”‚   â”œâ”€â”€ dvs_flare_integration.py     # DVSä»¿çœŸå™¨é›†æˆ âœ…
â”‚   â”œâ”€â”€ dsec_efficient.py            # DSECèƒŒæ™¯åŠ è½½ âœ…
â”‚   â”œâ”€â”€ event_visualization_utils.py # Debugå¯è§†åŒ– âœ…
â”‚   â””â”€â”€ [legacy files]               # æ—§æ–‡ä»¶ä¿ç•™ï¼Œä¸å†ä½¿ç”¨
â”œâ”€â”€ simulator/
â”‚   â””â”€â”€ DVS-Voltmeter-main/          # DVSç‰©ç†ä»¿çœŸå™¨ âœ…
â”œâ”€â”€ data/
â”‚   â””â”€â”€ bg_events/                   # DSECèƒŒæ™¯äº‹ä»¶(è¾“å…¥) âœ…
â””â”€â”€ output/
    â”œâ”€â”€ data/                        # æ–°è¾“å‡ºç»“æ„ ğŸ†•
    â”‚   â”œâ”€â”€ flare_events/            # Step1: çº¯ç‚«å…‰äº‹ä»¶
    â”‚   â”œâ”€â”€ bg_events/               # Step2: èƒŒæ™¯äº‹ä»¶
    â”‚   â””â”€â”€ merge_events/            # Step2: åˆå¹¶äº‹ä»¶
    â””â”€â”€ debug/                       # Debugå¯è§†åŒ– ğŸ†•
        â”œâ”€â”€ flare_generation/        # Step1 debug
        â””â”€â”€ event_composition/       # Step2 debug
```

### æ–°æ•°æ®æµç¨‹ (å®Œå…¨è§£è€¦)
```mermaid
graph TD
    subgraph "Step 1: ç‚«å…‰äº‹ä»¶ç”Ÿæˆ"
        A[Flare7Kå›¾åƒ] --> B[ç‚«å…‰åºåˆ—åˆæˆ]
        B --> C[DVSç‰©ç†ä»¿çœŸ]
        C --> D[çº¯ç‚«å…‰äº‹ä»¶]
        D --> E[flare_events/*.h5]
    end
    
    subgraph "Step 2: äº‹ä»¶åˆæˆ"
        F[DSECèƒŒæ™¯äº‹ä»¶] --> H[äº‹ä»¶åˆæˆå™¨]
        E --> H
        H --> I[bg_events/*.h5]
        H --> J[merge_events/*.h5]
    end
    
    subgraph "Debugå¯è§†åŒ–"
        D --> K[Step1 Debug]
        I --> L[Step2 Debug]
        J --> L
    end
```

## ğŸš€ ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹ (æ¨è)
```bash
# æ¿€æ´»ç¯å¢ƒ
source /home/lanpoknlanpokn/miniconda3/bin/activate event_flare

# ğŸ†• å®Œæ•´ä¸¤æ­¥æµç¨‹ (æ¨è)
python main.py --debug

# ğŸ†• åˆ†æ­¥æ‰§è¡Œ
python main.py --step 1 --debug    # åªç”Ÿæˆç‚«å…‰äº‹ä»¶
python main.py --step 2 --debug    # åªåˆæˆäº‹ä»¶

# ğŸ†• ç³»ç»Ÿæµ‹è¯•
python test_new_system.py
```

### æ–°é…ç½®å‚æ•°è¯´æ˜
```yaml
# configs/config.yaml å…³é”®å‚æ•° (å·²æ›´æ–°)
generation:
  num_train_sequences: 10           # Step1: è®­ç»ƒç”¨ç‚«å…‰åºåˆ—æ•°
  num_val_sequences: 5              # Step1: éªŒè¯ç”¨ç‚«å…‰åºåˆ—æ•°  
  debug_sequences: 3                # Debugæ¨¡å¼åºåˆ—æ•°
  
  output_paths:
    flare_events: "output/data/flare_events"     # Step1è¾“å‡º
    bg_events: "output/data/bg_events"           # Step2è¾“å‡º
    merge_events: "output/data/merge_events"     # Step2è¾“å‡º

data:
  flare_synthesis:
    duration_range: [0.03, 0.08]                # ç‚«å…‰äº‹ä»¶æ—¶é•¿(ç§’)
    
# ğŸ†• æ—¶é—´çº¿è®¾è®¡ (100mså›ºå®šæ€»é•¿åº¦)
timing_design:
  flare_start_offset: [0, 20]ms                 # ç‚«å…‰éšæœºèµ·å§‹æ—¶é—´
  flare_duration: [30, 80]ms                    # ç‚«å…‰æŒç»­æ—¶é—´  
  total_sequence_length: 100ms                  # å›ºå®šæ€»é•¿åº¦
  background_length: 100ms                      # èƒŒæ™¯äº‹ä»¶é•¿åº¦(å›ºå®š)
```

## ğŸ“Š æ•°æ®ç”Ÿæˆè¯¦ç»†ä¿¡æ¯

### DSECèƒŒæ™¯äº‹ä»¶æ¥æº
- **æ–‡ä»¶ä½ç½®**: `data/bg_events/*.h5` (7ä¸ªæ–‡ä»¶)
- **æ•°æ®é‡**: 32.7äº¿äº‹ä»¶ï¼Œ291ä¸ª1ç§’æ—¶é—´çª—å£
- **éšæœºåŒ–**: 50-100mséšæœºæ—¶é—´çª—å£
- **æ–‡ä»¶åˆ—è¡¨**: interlaken_00_c.h5, interlaken_00_g.h5, thun_00_a.h5, zurich_city_00_a.h5, zurich_city_01_a.h5, zurich_city_04_a.h5, zurich_city_07_a.h5

### DVSç‚«å…‰äº‹ä»¶ä»¿çœŸ
- **ä»¿çœŸå™¨**: DVS-Voltmeterç‰©ç†ä»¿çœŸå™¨(å”¯ä¸€ä¿ç•™)
- **ä»¿çœŸå™¨è·¯å¾„**: `simulator/DVS-Voltmeter-main/`
- **å‚æ•°è®¾ç½®**: k1=2.5(é™ä½æ•æ„Ÿåº¦), å®Œæ•´6å‚æ•°DVS346é…ç½®
- **æ—¶é—´çª—å£**: 30-80mséšæœºé•¿åº¦
- **å›¾åƒæº**: Flare7Kæ•°æ®é›†ï¼Œ5962å¼ ç‚«å…‰å›¾åƒ

### æ–°è¾“å‡ºæ•°æ®æ ¼å¼ (æ ‡å‡†DVSæ ¼å¼)
```python
# ğŸ†• æ ‡å‡†DVS H5æ–‡ä»¶ç»“æ„ (æ‰€æœ‰è¾“å‡ºæ–‡ä»¶ç»Ÿä¸€æ ¼å¼)
/events/t: (N,) int64     # æ—¶é—´æˆ³ (å¾®ç§’ï¼Œ0-100msèŒƒå›´)
/events/x: (N,) uint16    # Xåæ ‡ (åƒç´ )
/events/y: (N,) uint16    # Yåæ ‡ (åƒç´ )  
/events/p: (N,) int8      # ææ€§ {1, -1} (DSECæ ¼å¼)

# ğŸ†• æ—¶é—´çº¿è®¾è®¡ (100msç»Ÿä¸€æ—¶é•¿)
flare_events/*.h5:    æ—¶é—´æˆ³èŒƒå›´ 0-100ms (éšæœºèµ·å§‹åç§»0-20ms)
bg_events/*.h5:       æ—¶é—´æˆ³èŒƒå›´ 0-100ms (å›ºå®š100msé•¿åº¦)  
merge_events/*.h5:    æ—¶é—´æˆ³èŒƒå›´ 0-100ms (èƒŒæ™¯+ç‚«å…‰åˆå¹¶)

# ğŸš« ç§»é™¤çš„è¾“å‡º
# - ä¸å†æœ‰featuresæ•°ç»„ (æ— ç‰¹å¾æå–)
# - ä¸å†æœ‰labelsæ•°ç»„ (æ— é€äº‹ä»¶æ ‡ç­¾)
# - ä¸å†æœ‰å½’ä¸€åŒ–å¤„ç† (è¾“å‡ºåŸå§‹æ•°æ®)
```

## ğŸ› ï¸ æ–°Debugæ¨¡å¼åŠŸèƒ½

### Step 1 Debugè¾“å‡º
```
output/debug/flare_generation/
â””â”€â”€ flare_sequence_XXX/
    â”œâ”€â”€ events_temporal_0.5x/    # å¤šåˆ†è¾¨ç‡äº‹ä»¶å¯è§†åŒ–
    â”œâ”€â”€ events_temporal_1x/      # (0.5x, 1x, 2x, 4x)
    â”œâ”€â”€ events_temporal_2x/
    â”œâ”€â”€ events_temporal_4x/
    â”œâ”€â”€ source_frames/           # åŸå§‹ç‚«å…‰å›¾åƒåºåˆ—
    â””â”€â”€ metadata.txt             # ç‚«å…‰ç”Ÿæˆå…ƒæ•°æ®
```

### Step 2 Debugè¾“å‡º  
```
output/debug/event_composition/
â””â”€â”€ composition_XXX/
    â”œâ”€â”€ background_events/       # èƒŒæ™¯äº‹ä»¶å¯è§†åŒ–
    â”‚   â”œâ”€â”€ temporal_0.5x/
    â”‚   â”œâ”€â”€ temporal_1x/
    â”‚   â”œâ”€â”€ temporal_2x/
    â”‚   â””â”€â”€ temporal_4x/
    â”œâ”€â”€ flare_events/           # ç‚«å…‰äº‹ä»¶å¯è§†åŒ–
    â”œâ”€â”€ merged_events/          # åˆå¹¶äº‹ä»¶å¯è§†åŒ–
    â””â”€â”€ composition_metadata.txt # åˆæˆç»Ÿè®¡ä¿¡æ¯
```

### å¯è§†åŒ–ç‰¹æ€§
- **å¤šåˆ†è¾¨ç‡æ—¶é—´çª—å£**: 0.5x, 1x, 2x, 4xæ—¶é—´å€æ•°åˆ†æ
- **äº‹ä»¶ç±»å‹é¢œè‰²ç¼–ç **: èƒŒæ™¯(çº¢/è“), ç‚«å…‰(é»„/æ©™), åˆå¹¶(ç™½/ç°)
- **PNGå¸§åºåˆ—**: æ¯ç§åˆ†è¾¨ç‡ç”Ÿæˆ30å¸§ä»¥å†…çš„å¯è§†åŒ–

## ğŸ“ˆ æ–°æ€§èƒ½æŒ‡æ ‡ (2025-08-20)

### ğŸ†• ä¸¤æ­¥æ¶æ„æ€§èƒ½é¢„æœŸ
- **Step 1 (ç‚«å…‰ç”Ÿæˆ)**: é¢„è®¡60-90ç§’/åºåˆ— (ç§»é™¤ç‰¹å¾æå–å¼€é”€)
- **Step 2 (äº‹ä»¶åˆæˆ)**: é¢„è®¡20-40ç§’/åºåˆ— (çº¯æ•°æ®åˆå¹¶)
- **æ€»ä½“æå‡**: é¢„è®¡æ¯”åŸæ¶æ„å¿«40-60% (æ— ç‰¹å¾æå–)
- **å†…å­˜ä½¿ç”¨**: <500MBå³°å€¼ (è§£è€¦é™ä½å†…å­˜å³°å€¼)
- **æ–‡ä»¶å¤§å°**: æ ¹æ®äº‹ä»¶æ•°é‡ï¼Œé€šå¸¸5-15MB/æ–‡ä»¶

### ğŸ¯ æ–°å®¹é‡è§„åˆ’
```bash
# ğŸ†• Debugå¼€å‘ (æ¨è)
Step1: 3-5ç‚«å…‰åºåˆ—
Step2: å¯¹åº”çš„èƒŒæ™¯+åˆå¹¶æ–‡ä»¶
ç”Ÿæˆæ—¶é—´: 5-10åˆ†é’Ÿ
å­˜å‚¨éœ€æ±‚: 50-200MB

# ğŸ†• å°è§„æ¨¡å®éªŒ
Step1: 10-20ç‚«å…‰åºåˆ—  
Step2: å¯¹åº”çš„äº‹ä»¶åˆæˆ
ç”Ÿæˆæ—¶é—´: 20-40åˆ†é’Ÿ
å­˜å‚¨éœ€æ±‚: 200MB-1GB

# ğŸ†• ä¸­ç­‰è§„æ¨¡æ•°æ®é›†
Step1: 100-200ç‚«å…‰åºåˆ—
Step2: å¯¹åº”çš„äº‹ä»¶åˆæˆ
ç”Ÿæˆæ—¶é—´: 2-4å°æ—¶  
å­˜å‚¨éœ€æ±‚: 2-8GB

# ğŸ†• å¤§è§„æ¨¡ç”Ÿäº§
Step1: 1000+ç‚«å…‰åºåˆ—
Step2: å¯¹åº”çš„äº‹ä»¶åˆæˆ
ç”Ÿæˆæ—¶é—´: 8-15å°æ—¶
å­˜å‚¨éœ€æ±‚: 20-100GB
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³
1. **ç¯å¢ƒæœªæ¿€æ´»**: å¿…é¡»ä½¿ç”¨æŒ‡å®šcondaç¯å¢ƒ
2. **DVSä»¿çœŸå™¨è¶…æ—¶**: æ£€æŸ¥simulator/DVS-Voltmeter-main/è·¯å¾„
3. **Flare7Kè·¯å¾„é”™è¯¯**: æ£€æŸ¥é…ç½®ä¸­flare7k_pathè®¾ç½®
4. **H5æ–‡ä»¶ç”Ÿæˆå¤±è´¥**: æ£€æŸ¥data/generated_h5/æƒé™
5. **ç”Ÿæˆé€Ÿåº¦æ…¢**: æ­£å¸¸ç°è±¡ï¼Œå•åºåˆ—éœ€è¦1-3åˆ†é’Ÿ

### ğŸ†• éªŒè¯ç³»ç»Ÿå¥åº·
```bash
# å¿«é€Ÿç³»ç»Ÿæµ‹è¯• (5-10åˆ†é’Ÿ)
python test_new_system.py

# é¢„æœŸè¾“å‡º
âœ… Step 1: Generated 3 flare event files  
âœ… Step 2: Generated 3 background + 3 merged event files
âœ… H5 format compliance verified
âœ… Debug visualizations generated

# æ‰‹åŠ¨æµ‹è¯•æµç¨‹
python main.py --step 1 --debug     # æµ‹è¯•Step 1
python main.py --step 2 --debug     # æµ‹è¯•Step 2
```

### ğŸ†• æ•…éšœæ’é™¤æ­¥éª¤
1. **Step 1å¤±è´¥**: æ£€æŸ¥DVSä»¿çœŸå™¨è·¯å¾„å’ŒFlare7Kæ•°æ®é›†
2. **Step 2å¤±è´¥**: ç¡®ä¿Step 1å·²æˆåŠŸç”Ÿæˆç‚«å…‰äº‹ä»¶æ–‡ä»¶
3. **H5æ ¼å¼é”™è¯¯**: æ£€æŸ¥ç”Ÿæˆçš„æ–‡ä»¶æ˜¯å¦åŒ…å«æ­£ç¡®çš„/events/*ç»“æ„
4. **Debugå¯è§†åŒ–ç¼ºå¤±**: ç¡®ä¿ä½¿ç”¨--debugæ ‡å¿—å¹¶æ£€æŸ¥æƒé™
5. **å†…å­˜ä¸è¶³**: å‡å°‘debug_sequencesæ•°é‡

## ğŸ“‹ é‡è¦æ–‡ä»¶æ¸…å•

### ğŸ†• æ ¸å¿ƒå¿…éœ€æ–‡ä»¶ (æ–°æ¶æ„)
```
# ğŸ†• æ–°æ¶æ„æ ¸å¿ƒæ–‡ä»¶
main.py                               # ä¸¤æ­¥æµç¨‹ä¸»å…¥å£ ğŸ†•
test_new_system.py                    # ç³»ç»Ÿæµ‹è¯•è„šæœ¬ ğŸ†•
configs/config.yaml                   # ä¸¤æ­¥æ¨¡å¼é…ç½® ğŸ”„
src/flare_event_generator.py          # Step1: ç‚«å…‰ç”Ÿæˆå™¨ ğŸ†•
src/event_composer.py                 # Step2: äº‹ä»¶åˆæˆå™¨ ğŸ†•

# å¤ç”¨çš„æ”¯æŒç»„ä»¶
src/flare_synthesis.py                # ç‚«å…‰å›¾åƒåˆæˆ âœ…
src/dvs_flare_integration.py          # DVSä»¿çœŸå™¨é›†æˆ âœ…
src/dsec_efficient.py                 # DSECæ•°æ®åŠ è½½ âœ…
src/event_visualization_utils.py      # Debugå¯è§†åŒ– âœ…
simulator/DVS-Voltmeter-main/         # DVSä»¿çœŸå™¨ âœ…
data/bg_events/                       # DSECèƒŒæ™¯æ•°æ® âœ…
```

### ğŸ—‚ï¸ æ–‡ä»¶çŠ¶æ€è¯´æ˜
```
ğŸ†• æ–°åˆ›å»ºæ–‡ä»¶: å®ç°ä¸¤æ­¥è§£è€¦æ¶æ„
ğŸ”„ ä¿®æ”¹æ–‡ä»¶: é€‚é…æ–°æ¶æ„çš„é…ç½®
âœ… å¤ç”¨æ–‡ä»¶: ä¿æŒåŸæœ‰åŠŸèƒ½ä¸å˜
ğŸ”’ ä¿ç•™æ–‡ä»¶: æ—§æ¶æ„æ–‡ä»¶ä¿ç•™ä½†ä¸å†ä½¿ç”¨ (å¦‚unified_dataset.py)
ğŸ—‘ï¸ æ— éœ€æ–‡ä»¶: feature_extractor.pyç­‰åå¤„ç†ç›¸å…³ (åŠŸèƒ½å·²ç§»é™¤)
```

## ğŸ†• æ–°æ¶æ„æ ¸å¿ƒä¼˜åŠ¿

### è®¾è®¡ä¼˜åŠ¿å¯¹æ¯”
```
åŸæ¶æ„ (å¤æ‚è€¦åˆ)          â†’    æ–°æ¶æ„ (ä¸¤æ­¥è§£è€¦)
â”œâ”€â”€ å¤æ‚çš„ç‰¹å¾æå–          â†’    âœ… ç§»é™¤ç‰¹å¾æå–ï¼Œè¾“å‡ºåŸå§‹æ•°æ®
â”œâ”€â”€ å¤æ‚çš„æ ‡ç­¾ç”Ÿæˆ          â†’    âœ… ç§»é™¤é€äº‹ä»¶æ ‡ç­¾
â”œâ”€â”€ å•ä½“ç”Ÿæˆæµç¨‹            â†’    âœ… è§£è€¦ä¸ºä¸¤ä¸ªç‹¬ç«‹æ­¥éª¤
â”œâ”€â”€ è°ƒè¯•å›°éš¾                â†’    âœ… æ¯æ­¥ç‹¬ç«‹è°ƒè¯•
â”œâ”€â”€ ä¿®æ”¹åˆæˆç­–ç•¥å›°éš¾        â†’    âœ… Step2å¯ç‹¬ç«‹ä¿®æ”¹åˆæˆç­–ç•¥
â””â”€â”€ ç‰¹å¾æ ¼å¼å›ºå®š            â†’    âœ… æ ‡å‡†DVSæ ¼å¼ï¼Œé€šç”¨æ€§å¼º
```

### ğŸš€ æœªæ¥æ‰©å±•èƒ½åŠ›
- **Step 1**: å¯ç‹¬ç«‹ä¼˜åŒ–ç‚«å…‰ç”Ÿæˆç­–ç•¥ï¼Œä¸å½±å“Step 2
- **Step 2**: å¯å®éªŒä¸åŒçš„äº‹ä»¶åˆæˆç®—æ³• (æ—¶é—´äº¤é”™ã€ç©ºé—´æ··åˆç­‰)
- **è¾“å‡ºæ ¼å¼**: DVSæ ‡å‡†æ ¼å¼å¯ç›´æ¥ç”¨äºå…¶ä»–DVSå·¥å…·é“¾
- **å¹¶è¡Œèƒ½åŠ›**: ä¸¤æ­¥å¯åœ¨ä¸åŒæœºå™¨ä¸Šå¹¶è¡Œè¿è¡Œ

## ğŸ’¡ é‡å¯åå¿«é€Ÿä¸Šæ‰‹

### ğŸ†• æ–°ç³»ç»Ÿå¿«é€ŸéªŒè¯
```bash
# 1. æ¿€æ´»ç¯å¢ƒ
source /home/lanpoknlanpokn/miniconda3/bin/activate event_flare

# 2. å¿«é€Ÿæµ‹è¯• (5-10åˆ†é’Ÿ)
python test_new_system.py

# 3. æ‰‹åŠ¨è°ƒè¯• (åˆ†æ­¥)
python main.py --step 1 --debug
python main.py --step 2 --debug  

# 4. æ£€æŸ¥è¾“å‡º
ls -la output/data/flare_events/
ls -la output/data/bg_events/ 
ls -la output/data/merge_events/
ls -la output/debug/
```

### ğŸ¯ æ–°æ¶æ„æ ¸å¿ƒè®°å¿†ç‚¹
- âœ… **ä¸¤æ­¥è§£è€¦**: Step1ç”Ÿæˆç‚«å…‰ï¼ŒStep2åˆæˆäº‹ä»¶
- âœ… **æ ‡å‡†DVSæ ¼å¼**: `/events/t,x,y,p` åŸå§‹æ•°æ®è¾“å‡º
- âœ… **æ— åå¤„ç†**: ç§»é™¤ç‰¹å¾æå–å’Œæ ‡ç­¾ç”Ÿæˆ
- âœ… **ç‹¬ç«‹è°ƒè¯•**: æ¯æ­¥å¯å•ç‹¬è¿è¡Œå’Œè°ƒè¯•
- âœ… **çµæ´»æ‰©å±•**: ä¾¿äºä¿®æ”¹åˆæˆç­–ç•¥å’Œå‚æ•°

---

*æ¶æ„é‡æ„å®Œæˆ: 2025-08-20 - ä¸¤æ­¥è§£è€¦æ¶æ„ï¼Œæ ‡å‡†DVSæ ¼å¼è¾“å‡ºï¼Œå®Œå…¨ç§»é™¤ç‰¹å¾æå–*